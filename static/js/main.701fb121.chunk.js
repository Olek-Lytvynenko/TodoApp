(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},16:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n,o=c(1),l=c(9),a=c.n(l),r=(c(14),c(15),c(16),c(5)),i=c(7),s=c(2);!function(e){e[e.All=0]="All",e[e.Active=1]="Active",e[e.Completed=2]="Completed"}(n||(n={}));var d=c(3),u=c.n(d),j=c(0),b=function(e){var t=e.todoFilterType,c=e.setFilterType,l=Object(o.useCallback)((function(e,t){e.preventDefault(),c(t)}),[t]);return Object(j.jsxs)("ul",{className:"filters","data-cy":"todosFilter",children:[Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/",className:u()("",{selected:n.All===t}),onClick:function(e){return l(e,n.All)},children:"All"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/active",className:u()("",{selected:n.Active===t}),onClick:function(e){return l(e,n.Active)},children:"Active"})}),Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"#/completed",className:u()("",{selected:n.Completed===t}),onClick:function(e){return l(e,n.Completed)},children:"Completed"})})]})},m=function(e){var t=e.todo,c=e.onDeleteTodo,n=e.onCompleted,l=e.onRenameTodo,a=t.id,r=t.title,i=t.completed,d=Object(o.useState)(t.title),b=Object(s.a)(d,2),m=b[0],f=b[1],p=Object(o.useState)(!1),O=Object(s.a)(p,2),h=O[0],x=O[1],C=Object(o.useCallback)((function(){x(!1),r!==m&&l(a,m)}),[m]),g=Object(o.useCallback)((function(e){"Escape"===e.key&&(x(!1),f(r)),"Enter"===e.key&&(x(!1),C())}),[m]);return Object(j.jsxs)("li",{className:u()({completed:i,editing:h}),children:[Object(j.jsxs)("div",{className:"view",children:[Object(j.jsx)("input",{type:"checkbox",className:"toggle",checked:i,onChange:function(){return n(a)}}),Object(j.jsx)("label",{onDoubleClick:function(){return x(!0)},children:r}),Object(j.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return c(a)}})]}),h&&Object(j.jsx)("input",{type:"text",className:"edit",value:m,onChange:function(e){return f(e.target.value)},onBlur:C,onKeyDown:g,ref:function(e){return e&&e.focus()}})]})},f=function(e){var t=e.todos,c=e.onDeleteTodo,n=e.onCompleted,o=e.onRenameTodo;return Object(j.jsx)("ul",{className:"todo-list","data-cy":"todosList",children:t.map((function(e){return Object(j.jsx)(m,{todo:e,onDeleteTodo:c,onCompleted:n,onRenameTodo:o},e.id)}))})},p=function(){var e=Object(o.useState)(JSON.parse(localStorage.getItem("todos")||"[]")),t=Object(s.a)(e,2),c=t[0],l=t[1],a=Object(o.useState)(""),d=Object(s.a)(a,2),u=d[0],m=d[1],p=Object(o.useState)(n.All),O=Object(s.a)(p,2),h=O[0],x=O[1],C=function(e){localStorage.setItem("todos",JSON.stringify(e)),l(e)},g=c.filter((function(e){return!e.completed})).length,v=Object(o.useMemo)((function(){switch(h){case n.Completed:return c.filter((function(e){return e.completed}));case n.Active:return c.filter((function(e){return!e.completed}));case n.All:default:return Object(i.a)(c)}}),[c,h]),y=Object(o.useCallback)((function(){C(c.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{completed:0!==g})})))}),[c,g]),k=function(e){var t=c.filter((function(t){return t.id!==e}));C(t)},N=Object(o.useCallback)((function(e){var t=Object(i.a)(c),n=t.find((function(t){return t.id===e}));n&&(n.completed=!n.completed),C(t)}),[c]),A=Object(o.useCallback)((function(){C(c.filter((function(e){return!e.completed})))}),[c]);return Object(j.jsxs)("div",{className:"todoapp",children:[Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("h1",{children:"todos"}),Object(j.jsx)("form",{action:"",onSubmit:function(e){if(e.preventDefault(),u){var t={id:+new Date,title:u.trim(),completed:!1};C([].concat(Object(i.a)(c),[t])),m("")}},children:Object(j.jsx)("input",{type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?",value:u,onChange:function(e){return m(e.target.value)}})})]}),c.length>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("section",{className:"main",children:[Object(j.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:0===g,onChange:y}),Object(j.jsx)("label",{htmlFor:"toggle-all",children:" "}),Object(j.jsx)(f,{todos:v,onDeleteTodo:k,onCompleted:N,onRenameTodo:function(e,t){if(t.trim()){var n=c.map((function(c){return c.id===e?Object(r.a)(Object(r.a)({},c),{},{title:t.trim()}):c}));C(n)}else k(e)}})]}),Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(g," item").concat(1!==g?"s":""," left")}),Object(j.jsx)(b,{todoFilterType:h,setFilterType:x}),g<c.length&&Object(j.jsx)("button",{type:"button",className:"clear-completed",onClick:A,children:"Clear completed"})]})]})]})},O=function(){return Object(j.jsx)(p,{})};a.a.render(Object(j.jsx)(O,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.701fb121.chunk.js.map